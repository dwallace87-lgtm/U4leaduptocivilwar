<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documenting Slavery: Modern Analysis</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lucide/0.263.1/lucide.min.js"></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,600;1,400&family=Space+Grotesk:wght@300;500;700&display=swap" rel="stylesheet">

    <style>
        /* 1. MODERN BACKGROUND */
        body {
            font-family: 'Space Grotesk', sans-serif;
            /* Deep Indigo/Violet Gradient Background */
            background: radial-gradient(circle at top right, #4338ca, #1e1b4b 40%, #0f172a);
            color: #e2e8f0;
            min-height: 100vh;
        }

        /* 2. THE "BOX" - Glassmorphism Card */
        .glass-card {
            background: rgba(30, 41, 59, 0.7); /* Dark translucent blue */
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
            border-radius: 1.5rem; /* Large rounded corners */
            overflow: hidden;
        }

        /* 3. SOURCE TEXT STYLING */
        .source-content {
            font-family: 'Lora', serif;
            font-size: 1.2rem;
            line-height: 2;
            color: #f1f5f9; /* Bright text for contrast */
        }

        /* 4. NEON HIGHLIGHTS */
        .highlight-term {
            border-bottom: 2px solid rgba(255,255,255,0.3);
            cursor: pointer;
            transition: all 0.3s ease;
            padding: 0 4px;
            border-radius: 4px;
            position: relative;
        }
        
        /* Hover Effects */
        .highlight-term:hover {
            color: #000;
            border-bottom: none;
            text-shadow: none;
        }
        
        /* Specific Colors */
        .hl-legal:hover { background-color: #fcd34d; box-shadow: 0 0 15px #fcd34d; } /* Amber Neon */
        .hl-geo:hover { background-color: #6ee7b7; box-shadow: 0 0 15px #6ee7b7; }   /* Green Neon */
        .hl-econ:hover { background-color: #93c5fd; box-shadow: 0 0 15px #93c5fd; }  /* Blue Neon */

        /* 5. ANIMATIONS */
        .pop-in {
            animation: popIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
        }
        @keyframes popIn {
            from { opacity: 0; transform: scale(0.9) translateY(20px); }
            to { opacity: 1; transform: scale(1) translateY(0); }
        }

        /* Scrollbar styling */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #0f172a; }
        ::-webkit-scrollbar-thumb { background: #475569; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #64748b; }
    </style>
</head>
<body class="p-4 md:p-8 flex flex-col gap-6 max-w-[1600px] mx-auto">

    <header class="flex flex-col md:flex-row justify-between items-center p-2 mb-4">
        <div class="flex items-center gap-4">
            <div class="p-3 bg-indigo-600 rounded-xl shadow-lg shadow-indigo-500/30">
                <i data-lucide="layers" class="text-white w-6 h-6"></i>
            </div>
            <div>
                <h1 class="text-3xl font-bold tracking-tight text-white">Project <span class="text-indigo-400">Archive</span></h1>
                <p class="text-slate-400 text-sm uppercase tracking-widest font-medium">Analysis Module v2.0</p>
            </div>
        </div>

        <div class="flex gap-3 mt-4 md:mt-0">
            <div class="px-4 py-2 rounded-full bg-slate-800/50 border border-amber-500/30 text-amber-300 text-xs font-bold flex items-center gap-2 uppercase tracking-wide">
                <span class="w-2 h-2 bg-amber-400 rounded-full shadow-[0_0_10px_rgba(251,191,36,0.8)]"></span> Legal
            </div>
            <div class="px-4 py-2 rounded-full bg-slate-800/50 border border-emerald-500/30 text-emerald-300 text-xs font-bold flex items-center gap-2 uppercase tracking-wide">
                <span class="w-2 h-2 bg-emerald-400 rounded-full shadow-[0_0_10px_rgba(52,211,153,0.8)]"></span> Geo
            </div>
            <div class="px-4 py-2 rounded-full bg-slate-800/50 border border-blue-500/30 text-blue-300 text-xs font-bold flex items-center gap-2 uppercase tracking-wide">
                <span class="w-2 h-2 bg-blue-400 rounded-full shadow-[0_0_10px_rgba(147,197,253,0.8)]"></span> Econ
            </div>
        </div>
    </header>

    <main class="grid grid-cols-1 lg:grid-cols-12 gap-8 items-start">

        <div class="lg:col-span-8 glass-card min-h-[70vh] flex flex-col relative border-t-4 border-indigo-500">
            
            <div class="p-6 border-b border-slate-700/50 flex justify-between items-center bg-slate-900/30">
                <div class="flex items-center gap-3">
                    <span class="text-xs font-bold bg-slate-700 text-slate-300 px-2 py-1 rounded uppercase">Document A</span>
                    <span class="text-slate-400 text-sm">Statistics of Slaves (1909)</span>
                </div>
                <div class="flex gap-2">
                    <button class="p-2 hover:bg-slate-700 rounded-lg transition" title="Zoom In"><i data-lucide="zoom-in" class="w-4 h-4 text-slate-300"></i></button>
                </div>
            </div>

            <div class="p-8 md:p-12 overflow-y-auto custom-scrollbar">
                <div class="source-content space-y-10">
                    
                    <div class="group hover:bg-slate-800/30 p-6 -mx-6 rounded-2xl transition-colors duration-300">
                        <div class="flex gap-4">
                            <span class="text-slate-600 font-sans text-xs font-bold mt-2">01</span>
                            <p>
                                ...The sharp rise reflects the 
                                <span class="highlight-term hl-legal font-semibold text-amber-100" onclick="showDef('importation', 'Bringing people into the country from abroad.')">large importation of negroes</span> 
                                immediately preceding 
                                <span class="text-amber-400 font-bold border-b border-amber-500/50">January 1, 1808</span>. 
                                After this date, the 
                                <span class="highlight-term hl-legal text-amber-100" onclick="showDef('prohibited', 'Banned by federal law.')">international trade in slaves was prohibited</span> 
                                in the United States...
                            </p>
                        </div>
                        <div class="ml-10 mt-4 inline-flex items-center gap-2 px-4 py-2 bg-indigo-500/10 border border-indigo-500/30 rounded-lg text-indigo-300 text-sm">
                            <i data-lucide="arrow-right-circle" class="w-4 h-4"></i>
                            <span>Key Shift: Growth moved from Importation to Domestic Trade.</span>
                        </div>
                    </div>

                    <div class="group hover:bg-slate-800/30 p-6 -mx-6 rounded-2xl transition-colors duration-300">
                        <div class="flex gap-4">
                            <span class="text-slate-600 font-sans text-xs font-bold mt-2">02</span>
                            <p>
                                ...<span class="text-emerald-400 font-bold">Delaware, Maryland and Virginia</span> focused on 
                                <span class="text-emerald-400 font-bold">tobacco</span>. However, the 
                                <span class="highlight-term hl-geo text-emerald-100" onclick="showDef('soil impoverished', 'Nutrients drained from the land due to over-farming.')">soil was rapidly impoverished</span> 
                                by this crop. Consequently, tobacco culture moved farther 
                                <span class="text-emerald-400 border-b border-emerald-500/50">westward</span>...
                            </p>
                        </div>
                    </div>

                    <div class="group hover:bg-slate-800/30 p-6 -mx-6 rounded-2xl transition-colors duration-300">
                        <div class="flex gap-4">
                            <span class="text-slate-600 font-sans text-xs font-bold mt-2">03</span>
                            <p>
                                As tobacco became 
                                <span class="italic text-blue-300">less profitable</span>, the 
                                <span class="highlight-term hl-geo text-blue-100" onclick="showDef('acquisition', 'Obtaining new territory (e.g., Louisiana Purchase).')">acquisition of new territory</span> 
                                in the far South and the expansion of 
                                <span class="text-emerald-400 font-bold text-xl">cotton growing</span> 
                                made slave labor 
                                <span class="text-blue-400 font-bold text-xl">highly profitable</span>.
                                The 
                                <span class="highlight-term hl-econ text-blue-100" onclick="showDef('market price', 'The cost to purchase an enslaved person.')">market price advanced rapidly</span> 
                                due to <span class="text-blue-400 font-bold">increasing demand</span>.
                            </p>
                        </div>
                    </div>

                </div>
            </div>
        </div>

        <div class="lg:col-span-4 flex flex-col gap-6 sticky top-6">

            <div id="def-card" class="hidden bg-slate-800 border border-slate-600 p-6 rounded-2xl shadow-2xl pop-in relative overflow-hidden">
                <div class="absolute -top-10 -right-10 w-32 h-32 bg-indigo-500 rounded-full blur-[50px] opacity-20"></div>
                
                <div class="relative z-10">
                    <div class="flex justify-between items-start mb-2">
                        <span class="text-[10px] font-bold uppercase tracking-widest text-slate-400">Glossary</span>
                        <button onclick="closeDef()" class="text-slate-400 hover:text-white"><i data-lucide="x" class="w-4 h-4"></i></button>
                    </div>
                    <h3 id="def-term" class="text-2xl font-bold text-white mb-2">Term</h3>
                    <p id="def-text" class="text-slate-300 leading-relaxed">Definition text goes here.</p>
                </div>
            </div>

            <div class="glass-card p-1">
                <div class="bg-slate-900/50 rounded-[1.2rem] p-6 border border-slate-700/50">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="font-bold text-white flex items-center gap-2">
                            <i data-lucide="pen-tool" class="w-4 h-4 text-indigo-400"></i> Your Analysis
                        </h3>
                        <button onclick="clearNotes()" class="p-1.5 rounded-md hover:bg-red-500/20 text-slate-500 hover:text-red-400 transition-colors" title="Clear Notes">
                            <i data-lucide="trash-2" class="w-4 h-4"></i>
                        </button>
                    </div>
                    
                    <textarea id="notes" 
                        class="w-full h-64 bg-transparent text-slate-300 resize-none outline-none font-mono text-sm leading-6 placeholder-slate-600"
                        placeholder="Analyze the shift from tobacco to cotton here..."></textarea>
                    
                    <div class="mt-2 h-4 flex justify-end">
                        <span id="save-indicator" class="text-[10px] uppercase tracking-widest text-emerald-500 opacity-0 transition-opacity duration-500">Saved</span>
                    </div>
                </div>
            </div>

            <div class="bg-gradient-to-br from-slate-800 to-slate-900 rounded-2xl p-6 border border-slate-700 shadow-lg">
                <h3 class="text-sm font-bold text-slate-400 uppercase tracking-wider mb-3">Knowledge Check</h3>
                <p class="text-white font-medium mb-4">Why did the price of enslaved people rise?</p>
                
                <div class="space-y-2">
                    <button onclick="check(this, false)" class="quiz-btn w-full text-left p-3 rounded-lg bg-slate-800 hover:bg-slate-700 border border-slate-700 transition text-sm text-slate-300">
                        End of the Civil War
                    </button>
                    <button onclick="check(this, true)" class="quiz-btn w-full text-left p-3 rounded-lg bg-slate-800 hover:bg-slate-700 border border-slate-700 transition text-sm text-slate-300">
                        Cotton demand & Import ban
                    </button>
                </div>
                <div id="quiz-msg" class="mt-3 text-xs font-bold h-4"></div>
            </div>

        </div>

    </main>

    <script>
        lucide.createIcons();

        // Definition Logic
        function showDef(term, definition) {
            const card = document.getElementById('def-card');
            document.getElementById('def-term').innerText = term;
            document.getElementById('def-text').innerText = definition;
            
            card.classList.remove('hidden');
            card.classList.remove('pop-in');
            void card.offsetWidth; // Trigger reflow
            card.classList.add('pop-in');
        }

        function closeDef() {
            document.getElementById('def-card').classList.add('hidden');
        }

        // Note Logic (Clean & Subtle)
        const notes = document.getElementById('notes');
        const indicator = document.getElementById('save-indicator');

        // Load
        notes.value = localStorage.getItem('modernNotes') || '';

        // Save
        let timeout;
        notes.addEventListener('input', () => {
            localStorage.setItem('modernNotes', notes.value);
            indicator.style.opacity = '0'; // Hide
            clearTimeout(timeout);
            timeout = setTimeout(() => {
                indicator.style.opacity = '1'; // Show "Saved"
            }, 600);
        });

        function clearNotes() {
            notes.value = '';
            localStorage.removeItem('modernNotes');
            indicator.style.opacity = '0';
        }

        // Quiz Logic
        function check(btn, isCorrect) {
            // Reset all buttons in this container
            const buttons = btn.parentElement.querySelectorAll('.quiz-btn');
            buttons.forEach(b => {
                b.className = "quiz-btn w-full text-left p-3 rounded-lg bg-slate-800 border border-slate-700 text-sm text-slate-300 opacity-50";
            });

            const msg = document.getElementById('quiz-msg');

            if (isCorrect) {
                btn.className = "quiz-btn w-full text-left p-3 rounded-lg bg-emerald-500/20 border border-emerald-500 text-sm text-emerald-300 font-bold shadow-[0_0_15px_rgba(16,185,129,0.3)]";
                msg.innerText = "Correct";
                msg.className = "mt-3 text-xs font-bold h-4 text-emerald-400";
            } else {
                btn.className = "quiz-btn w-full text-left p-3 rounded-lg bg-red-500/20 border border-red-500 text-sm text-red-300";
                msg.innerText = "Incorrect";
                msg.className = "mt-3 text-xs font-bold h-4 text-red-400";
            }
        }
    </script>
</body>
</html>
